<!DOCTYPE html>
<html lang="en">
<head>
		<title>micjo's blog &mdash; How to keep your embedded linux device up and running</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="micjo's blog â€” Flux Atom"
			href="/" /> 
		<!--[if lte IE 8]><script src="/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="">micjo's blog</a></h1>
		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/category/fosdem.html">FOSDEM</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/category/python-ruby.html">Python, Ruby</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href=""></a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href=""></a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/fosdem-2018-talk-01.html">Sun 11 February 2018</a></div>
		<span class="byline">By <a href="/author/michiel-jordens.html">Michiel Jordens</a></span>
			<span class="cat-links"><a href="/category/fosdem.html" title="View all posts in FOSDEM" rel="category tag">FOSDEM</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/fosdem-2018-talk-01.html" title="Permalink to How to keep your embedded linux device up and running" rel="bookmark">How to keep your embedded linux device up and running</a>
		</h2>
		<div class="entry-content">
			<p><a href="https://fosdem.org/2018/schedule/event/linux_up_and_running/">FOSDEM page</a></p>
<p>For this speaker, the user experience was key. He mentioned
an amusing anecdote about residents of california painting 
their lawns green. It is considerably cheaper than keeping
it watered, while the user experience is kept intact.</p>
<p>You cannot be certain of the quality of software uploaded
to the platform. As user experience is key, the user interface
must be kept stable: no crashes or inconsistent UI. </p>
<p>In the server world, monitoring and keeping things up and running
are daily business. We can take some of their learning and 
apply them to embedded devices.</p>
<p>Some frameworks he mentioned are:</p>
<ul>
<li>systemd</li>
<li>nagios</li>
<li>Icinga</li>
<li>Zabbix</li>
</ul>
<p>These server monitoring tools are very powerful, albeit from a 
server perspective. Trying to run these on an embedded device
will leave you scrounging for resources. Apart from their resource
requirements, they require a central point to which data is uploaded.
This is another reason why we cannot copy and paste these tools.</p>
<p>To solve these 2 issues we shall: store the data locally and
focus on passive checks. Passive checks are more lenient towards
resources. An example of a passive check is to only check RAM
usage with a granularity of 100MB. This frees up resources,
at the expense of some contextual data.</p>
<p>There is still another issue left to solve. It makes no sense to wake
IoT devices for state introspection as most IoT devices are in sleep mode.
This was fixed by developing <strong>faultd</strong>.</p>
<p>The basic mode of operation for faultd is as follows:
listen for changes -&gt; analysis by the decision maker -&gt; act.</p>
<h4>Listeners</h4>
<ul>
<li>systemd</li>
<li>audit</li>
</ul>
<p>audit reports on max usage based on rlimits. This generates
a high overhead on ARM devices, so an alternative was made:
<strong>rlimits-events</strong>.</p>
<h4>Decision maker</h4>
<p><em>for diagrams, please refer to the powerpoint presentation on the fosdem website</em></p>
<p>The decision maker can generate a report and store the data
into a database. Knowing which application is causing issues,
is vital information.</p>
<h4>Actions</h4>
<ul>
<li>Recover service</li>
<li>Restart service</li>
<li>Reboot</li>
<li>Reboot recovery</li>
</ul>
<h3>Sumary</h3>
<p>This was a very interesting talk. Applying knowledge from one domain
onto another shows how you can learn from each other. </p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="/tag/embedded.html" rel="tag">embedded</a>,  <a href="/tag/fosdem.html" rel="tag">FOSDEM</a>,  <a href="/tag/monitoring.html" rel="tag">monitoring</a>,  <a href="/tag/server.html" rel="tag">server</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post-->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>