<!DOCTYPE html>
<html lang="en">
<head>
		<title>micjo's blog &mdash; Articles by Michiel Jordens</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="micjo's blog â€” Flux Atom"
			href="/" /> 
		<!--[if lte IE 8]><script src="/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="">micjo's blog</a></h1>
		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/category/fosdem.html">FOSDEM</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/category/python-ruby.html">Python, Ruby</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href=""></a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href=""></a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
	<h2>Posted by <span>Michiel Jordens</span> &hellip;</h2>
		</div>
	
		<div id="contents">
<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/fosdem-2018-gstreamer.html">Sun 11 February 2018</a></div>
		<span class="byline">By <a href="/author/michiel-jordens.html">Michiel Jordens</a></span>
			<span class="cat-links"><a href="/category/fosdem.html" title="View all posts in FOSDEM" rel="category tag">FOSDEM</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/fosdem-2018-gstreamer.html" title="Permalink to GStreamer Fosdem 2018" rel="bookmark">GStreamer Fosdem 2018</a>
		</h2>
		<div class="entry-content">
			<h1><a href="https://fosdem.org/2018/schedule/event/om_gst_embedded/">Gstreamer for embedded devices</a></h1>
<p>GStreamer is widespread. It's used by TVs (LG, Samsung), 
settopboxes, In-flight-entertainment, the space station
and the list goes on.</p>
<h2>Some new features that are now supported:</h2>
<ul>
<li>Better zero-copy support (tee)</li>
<li>Stablized v4l2 names</li>
<li>hardware codecs</li>
<li>Changing decoder resolutions at runtime</li>
</ul>
<h2>KMS improvements</h2>
<p><em>KMS is the linux driver that puts the pixels on your screen</em></p>
<ul>
<li>DMAbuf pool</li>
<li>video-overlay</li>
<li>more formats and devices</li>
</ul>
<h2>Embedded OpenGL:</h2>
<ul>
<li>Vivante EGL FB support (increases performance on imx6)</li>
<li>Moved into base and frozen API</li>
<li>Mesa DMAbuf export support</li>
</ul>
<h2>Process seperation:</h2>
<p><em>This allows putting a sink in a different process and
use the source as a slave</em></p>
<ul>
<li>Master/Slave model</li>
<li>Useful for terrible APIs that only work with high privileges</li>
</ul>
<h2>Near future:</h2>
<ul>
<li>DRM modifiers</li>
<li>GStreamer CI on embedded systems</li>
<li>V4L2 stateless codecs</li>
</ul>
<h1><a href="https://fosdem.org/2018/schedule/event/gstreamer_for_tiny_devices/">Gstreamer for tiny devices</a></h1>
<p>This was a talk trying to get gstreamer to compile and 
run on a device with a very small footprint. </p>
<p>There were 3 things that he did :</p>
<ul>
<li>Link statically with libtool</li>
<li>Butcher glib (even with compile options certain
sections were still compiled in the library)</li>
<li>Compress the binary with upx</li>
</ul>
<p>To link statically he had to use :</p>
<ul>
<li>GST_PLUGIN_STATIC_DECLARE</li>
<li>GST_PLUGIN_STATIC_REGISTER</li>
<li>GST_DEBUG=GST_PLUGIN_LOADING:4</li>
</ul>
<p>An interesting tool he used is called 
<a href="https://github.com/google/bloaty">bloaty mcbloatface</a>.</p>
<h1><a href="https://fosdem.org/2018/schedule/event/om_gst_dbg/">Modern tools to debug GStreamer applications</a></h1>
<h2>GstTracer</h2>
<ul>
<li>available from 1.8</li>
<li>Traces modules loaded at runtime</li>
<li>Post-run analysis and live introspection</li>
<li>Monitoring hooks</li>
<li>Formatted output</li>
</ul>
<h2>Stats Tracers</h2>
<ul>
<li>GST_TRACER="stats,usage"</li>
<li>GST_DEBUG=GST_TRACER</li>
<li>gst-stats *.log</li>
</ul>
<h2>Latency Tracers</h2>
<p>This can measure the time it takes for each buffer
to travel from source to sink.
GST_TRACERS=latency</p>
<h2>Leaks Tracer</h2>
<ul>
<li>Tracks refcounts of GObjefct and GstMiniObject, Only track leaks in gst code.</li>
<li>Raises warning on leaks.</li>
<li>Integrated in 1.10.</li>
<li>No false positives</li>
<li>Lighter/faster than valgrind.</li>
<li>Hook into CI / QA system</li>
</ul>
<h2>Tracing leaks</h2>
<ul>
<li>GST_TRACER=leaks </li>
<li>GST_TRACER=stack-trace</li>
<li>Track ref/unref operations (check-refs=true)</li>
<li>List alive objects while running (SIGUSR1)</li>
<li>Check points (SIGUSR2)</li>
</ul>
<p>You can use GST_TRACER=leaks to get a high level overview.
If you see one object that has leaks, you can use the
GST_TRACER=stack-trace to really zoom in on that object by
visualizing the stack trace.</p>
<h2><a href="https://github.com/RidgeRun/gst-shark">GSTShark</a></h2>
<ul>
<li>Inter latency</li>
<li>buffer rate on src pad</li>
<li>schedule time</li>
<li>Queues level</li>
</ul>
<p>Using GSTShark can show which element is underperforming.
It supports creating graphs which are quite nice in showing
where the bottlenecks are. This is not part of gstreamer.
These are a few plugin scripts you have to install seperately</p>
<h2><a href="https://github.com/gdesmott/gst-log-parser">gst-log-parser</a></h2>
<ul>
<li>GStreamer logs parsing library</li>
<li>High level objects to manipulate logs</li>
<li>Easy filtering, mapping, etc (iterator)</li>
<li>ts-diff : highlight highest timestamps gaps</li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="/tag/fosdem.html" rel="tag">FOSDEM</a>,  <a href="/tag/gstreamer.html" rel="tag">gstreamer</a>,  <a href="/tag/opensource.html" rel="tag">OpenSource</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/fosdem-2018.html">Sun 11 February 2018</a></div>
		<span class="byline">By <a href="/author/michiel-jordens.html">Michiel Jordens</a></span>
			<span class="cat-links"><a href="/category/fosdem.html" title="View all posts in FOSDEM" rel="category tag">FOSDEM</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/fosdem-2018.html" title="Permalink to Fosdem 2018" rel="bookmark">Fosdem 2018</a>
		</h2>
		<div class="entry-content">
			<h1>Fosdem 2018</h1>
<p>Going to FOSDEM is always somewhat of a reality check.
You see how much you stay in your silo at work, 
how few women there are in our sector and 
how small the campus has gotten over the last few years.
Meeting old colleagues and learning 
new things always bring me back however.</p>
<p>There is never enough time to visit all the talks 
you want to go to. FOSDEM is a week worth of 
seminars condensed into 1 weekend.</p>
<h2>Day 1</h2>
<p>I attended a few talks today. The most interesting ones where:</p>
<ul>
<li><a href="https://fosdem.org/2018/schedule/event/linux_up_and_running/">How to keep your embedded linux device up and running</a></li>
<li><a href="fosdem-2018-gstreamer.html">GStreamer talks</a></li>
<li><a href="https://fosdem.org/2018/schedule/event/riscv/">Igniting the open hardware ecosystem with RISC-V</a></li>
</ul>
<p>While the actual application of the first talk remains to be seen,
they did apply an interesting way of working. They used the concepts
of 1 domain, the server world, and applied it in another, the embedded 
domain. They did do  some tweaking as you dont have the same amount
of resources on an embedded device.</p>
<p>I devoted a seperate post to to the gstreamer topic as this was too much
information to add here.</p>
<p>RISC-V, the third talk in the list, is an open source hardware project.
10 years ago this would be unthinkable. The presentation they did was running
on a system with their chip on it. Very impressive. </p>
<p><img src="img/risc-v.jpg" alt="risc-v" style="width: 800px;" /></p>
<p>There were some other talks i went to. I will not go into detail
about them however. I have added quite a few items to my need-to-read-about
list. </p>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://git.tizen.org/cgit/tools/muxpi">muxpi</a></td>
<td>a remote controllable device to do embedded testing</td>
</tr>
<tr>
<td><a href="https://conan.io/">Conan</a></td>
<td>a C/C++ package manager for developers</td>
</tr>
<tr>
<td><a href="https://www.rtl-sdr.com/">RTL-SDR</a></td>
<td>Cheap SDR for hobbyists</td>
</tr>
<tr>
<td><a href="https://syslog-ng.org/">syslog-ng</a></td>
<td>syslog on steroids</td>
</tr>
<tr>
<td><a href="http://mqtt.org/">mqtt</a></td>
<td>Lightweight messaging protocol</td>
</tr>
<tr>
<td><a href="https://pagekite.net/">Pagekite</a></td>
<td>Network Tunneling</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Return-oriented_programming">ROP</a></td>
<td>Return oriented programming</td>
</tr>
</tbody>
</table>
<p>The degeneration of the word embedded is rampant. More and more speakers 
are (ab)using the term 'embedded' to lure in more attendants. </p>
<h2>Day 2</h2>
<p>During this day i was responsible for the video stream in the IoT devroom. 
Sadly the second to last speaker was unable to make it, causing the last talk
to be nearly empty. On the demo tables there was a group of people from 
<a href="https://www.uba.be/">HAMRADIO</a> showcasing an interesting SDR waterfall:</p>
<p><img src="img/hamradio.jpg" alt="HAMRadio" style="width: 800px;" /></p>
<p>After cleaning the devroom there was still time to attend
one last <a href="https://fosdem.org/2018/schedule/event/closing_keynote/">talk</a>. This
room was packed. Meltdown and spectre are big news after all.</p>
<p><img src="img/janson.jpg" alt="Janson" style="width: 800px;" /></p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="/tag/fosdem.html" rel="tag">FOSDEM</a>,  <a href="/tag/opensource.html" rel="tag">OpenSource</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/blog-setup.html">Sat 10 February 2018</a></div>
		<span class="byline">By <a href="/author/michiel-jordens.html">Michiel Jordens</a></span>
			<span class="cat-links"><a href="/category/python-ruby.html" title="View all posts in Python, Ruby" rel="category tag">Python, Ruby</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/blog-setup.html" title="Permalink to Setting up a blog" rel="bookmark">Setting up a blog</a>
		</h2>
		<div class="entry-content">
			<p>For personal development and portfolio showcasing, it makes sense 
to start a blog. I had already heard of github-pages and when 
pitching the idea to a friend he was quick to recommend jeckyll.</p>
<p>I was handed 3 tutorials to follow and was a little overwhelmed at first. 
There were quite a few difficulties trying to run jekyll. The combination 
of permission problems, rbenv and various other packages I needed to install
were quick to drive me away from jekyll. </p>
<p>Pelican to the rescue. This is an alternative to jekyll. It is a
python-based static webpage generator. I was amazed how quick it was
to get things up and running. <a href="https://fedoramagazine.org/make-github-pages-blog-with-pelican/">This blog</a>
was a great help.</p>
<p>It is a bit odd to me that most, if not all, tutorials on github-pages mention
jekyll as the go-to static webpage generator. For me, Pelican is a much better 
fit, at least for now.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="/tag/pelican.html" rel="tag">pelican</a>,  <a href="/tag/publishing.html" rel="tag">publishing</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="navigation">
</div>
		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>